# 硬件设计

## 1.LED灯驱动原理

LED 驱动指的是通过稳定的电源为 LED 提供合适的电流和电压，使其正常工作点亮。LED 驱动方式主要有恒流和恒压两种。限定电流的恒流驱动是最常见的方式，因为 LED 灯对电流敏感，电流大于其额定值可能导致损坏。恒流驱动保证了稳定的电流，从而确保了 LED 安全。

LED 灯的驱动比较简单，只需要给将对应的正负极接到单片机的正负极即可驱动。LED的接法也分有两种，灌入电流和输出电流。

![屏幕截图 2024-11-22 172238.png](https://raw.githubusercontent.com/hazy1k/My-drawing-bed/main/2024/11/22-17-22-47-屏幕截图%202024-11-22%20172238.png)

- 灌入电流指的是LED的供电电流是由外部提供电流，将电流灌入我们的MCU；风险是当外部电源出现变化时，会导致MCU的引脚烧坏。
- 输出电流指的是由MCU提供电压电流，将电流输出给LED；如果使用 MCU的GPIO 直接驱动 LED，则驱动能力较弱，可能无法提供足够的电流驱动 LED。

需要注意的 是 LED 灯的颜色不同，对应的电压也不同。电流不可过大，通常需要接入220欧姆到10K欧姆左右的限流电阻，限流电阻的阻值越大，LED的亮度越暗。

## 2.LED灯原理图

CW32F030电压电流表中关于LED灯的原理图如图所示：

<img src="https://raw.githubusercontent.com/hazy1k/My-drawing-bed/main/2024/11/22-17-24-01-屏幕截图%202024-11-22%20172359.png" title="" alt="屏幕截图 2024-11-22 172359.png" width="549">

## 3.LED灯驱动流程

LED1的正极经限流电阻 R10 接到电源正极，LED1 的负极连接到单片机的 GPIO 口上，通过 LED 灯的驱动原理，只需要将相应 GPIO（PC13）配置为低电平即可点亮LED1。CW32F030 电压电流表的 LED 部分实物图如图所示：

![屏幕截图 2024-11-22 172455.png](https://raw.githubusercontent.com/hazy1k/My-drawing-bed/main/2024/11/22-17-24-58-屏幕截图%202024-11-22%20172455.png)


