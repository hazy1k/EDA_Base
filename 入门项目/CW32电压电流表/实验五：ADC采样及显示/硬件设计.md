# 硬件设计

## 1. 什么是ADC

模拟数字转换器即A/D转换器，或简称ADC，通常是指一个将模拟信号转变为数字信号的电子元件。通常的模数转换器是将一个输入电压信号转换为一个输出的数字信号。由于数字信号本身不具有实际意义，仅仅表示一个相对大小。故任何一个模数转换器都需要一个参考模拟量作为转换的标准，比较常见的参考标准为最大的可转换信号大小。而输出的数字量则表示输入信号相对于参考信号的大小。

## 2. ADC基本参数

**分辨率：** 表示ADC转换器的输出精度，通常以位数（bit）表示，比如8位、10位、12位等，位数越高，精度越高。

**采样率：** 表示ADC对模拟输入信号进行采样的速率，通常以每秒采样次数（samples per second，SPS）表示，也称为转换速率，表示ADC能够进行多少次模拟到数字的转换。

**采样范围：** 指ADC可以采集到的模拟输入信号的电压范围，范围见下：0 ≤ ADC ≤ Vref

## 3. ADC基本原理

CW32F030采用的是逐次逼近型的12位ADC，逐次逼近型ADC是一种常见的ADC工作原理，它的思想是通过比较模拟信号与参考电压之间的大小关系来逐步逼近输入信号的数字表示。在逐次逼近型ADC中，输入信号和参考电压被加入一个差分放大器中，产生一个差分电压。然后，这个差分电压被输入到一个逐步逼近的数字量化器中，该量化器以逐步递减的方式将其与一系列参考电压进行比较。具体来说，在每个逼近阶段，量化器将输入信号与一个中间电压点进行比较，将该电压点上方或下方的参考电压作为下一个逼近阶段的参考电压。这个过程一直持续到量化器逼近到最终的数字输出值为止。

以一个采样电路原理图举例：

![屏幕截图 2024-11-25 174250.png](https://raw.githubusercontent.com/hazy1k/My-drawing-bed/main/2024/11/25-17-42-58-屏幕截图%202024-11-25%20174250.png)

如果使用1.5V作为参考电压，根据R8和R7的阻值配比可以得到最高采样电压为：1.5 / 10 * （220 + 10）= 34.5V

电流采样的电路原理图见图，对电流采样本质上是对检流电阻的电压进行采样。

![屏幕截图 2024-11-25 174406.png](https://raw.githubusercontent.com/hazy1k/My-drawing-bed/main/2024/11/25-17-44-09-屏幕截图%202024-11-25%20174406.png)


